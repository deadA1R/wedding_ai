<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ê–¥–º–∏–Ω–∫–∞ —Å–≤–∞–¥—å–±—ã</title>
  <link rel="stylesheet" href="style_admin.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
  <div id="login-screen" class="login-box">
    <h2>–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∫—É</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å">
    <button id="loginBtn">–í–æ–π—Ç–∏</button>
    <div id="loginError" class="error"></div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –∞–¥–º–∏–Ω–∫–∏ -->
  <div id="admin-screen" class="admin-container" style="display:none;">
    <header class="admin-header">
      <h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
      <button id="logoutBtn" class="logout">–í—ã–π—Ç–∏</button>
    </header>

    <section class="admin-section">
    <h2>–ì–æ—Å—Ç–∏</h2>
    <button id="showAddFormBtn" class="btn-add">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è</button>

    <form id="addGuestForm" class="admin-form hidden">
        <input type="text" id="firstName" placeholder="–ò–º—è" required>
        <input type="text" id="lastName" placeholder="–§–∞–º–∏–ª–∏—è" required>
        <input type="text" id="idName" placeholder="ID (–¥–ª—è —Å—Å—ã–ª–∫–∏)" required>

        <!-- –ü–æ–ª -->
        <select id="sex" required>
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª</option>
          <option value="–ú—É–∂—á–∏–Ω–∞">–ú—É–∂—á–∏–Ω–∞</option>
          <option value="–ñ–µ–Ω—â–∏–Ω–∞">–ñ–µ–Ω—â–∏–Ω–∞</option>
        </select>


        <select id="type" required>
        <option value="">–¢–∏–ø</option>
        <option value="–æ–¥–∏–Ω–æ—á–∫–∞">–û–¥–∏–Ω–æ—á–∫–∞</option>
        <option value="—Å–µ–º—å—è–Ω–∏–Ω">–°–µ–º—å—è–Ω–∏–Ω</option>
        </select>

        <div id="familyFields" class="hidden">
        <input type="text" id="partnerFirstName" placeholder="–ò–º—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞">
        <input type="text" id="partnerLastName" placeholder="–§–∞–º–∏–ª–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞">
        <input type="number" id="childrenCount" min="0" value="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–π">
        </div>

        <div class="form-actions">
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button type="button" id="cancelAdd">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </form>
    </section>

    <section class="summary-section glass">
    <h2>–°–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
    <div class="summary-cards">
        <div class="card">
        <h3>–í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π</h3>
        <p id="totalGuests">0</p>
        </div>
        <div class="card">
        <h3>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –ø—Ä–∏—Ö–æ–¥</h3>
        <p id="confirmedGuests">0</p>
        </div>
        <div class="card">
        <h3>–î–µ—Ç–∏</h3>
        <p id="confirmed–°hild">0</p>
        </div>
        <div class="card">
        <h3>–û–¥–∏–Ω–æ—á–∫–∏</h3>
        <p id="singleGuests">0</p>
        </div>
        <div class="card">
        <h3>–°–µ–º—å—è–Ω–∏–Ω—ã</h3>
        <p id="familyGuests">0</p>
        </div>
    </div>

    <canvas id="guestChart" height="150"></canvas>
    </section>


    <section class="guests-section">
        <h2>–°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π</h2>
        <table class="guests-table">
            <thead>
            <tr>
                <th>–ò–º—è</th>
                <th>–§–∞–º–∏–ª–∏—è</th>
                <th>–ü–æ–ª</th>
                <th>–¢–∏–ø</th>
                <th>–î–µ—Ç–∏</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–¢—Ä–∞–Ω—Å—Ñ–µ—Ä</th>
                <th>–ö–æ–ª-–≤–æ –≥–æ—Å—Ç–µ–π</th>
                <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
            </tr>
            </thead>
            <tbody id="guestsList">
            <!-- –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å—Å—è —Å—é–¥–∞ -->
            </tbody>
        </table>
        </section>

  </div>

  <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏ -->
<!-- <button id="downloadExcel" class="btn">üì• –°–∫–∞—á–∞—Ç—å Excel</button> -->

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º SheetJS -->
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="js/firebase.js"></script>
<script src="js/admin.js"></script>
</body>
</html>
